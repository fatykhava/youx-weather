(this["webpackJsonpyoux-weather"]=this["webpackJsonpyoux-weather"]||[]).push([[0],{17:function(e,t,n){e.exports={wrapper:"Notification_wrapper__36_fH"}},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},4:function(e,t,n){e.exports={wrapper:"Weather_wrapper__2SPZV",container:"Weather_container__1SFY_",content:"Weather_content__2MV2n",owf:"Weather_owf__10Zch"}},44:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(15),i=n.n(c),r=(n(22),n(23),n(24),n(3)),s=n(5),u=n.n(s),o=n(0),d=function(e){var t=Object(a.useState)(e.inputValue),n=Object(r.a)(t,2),c=n[0],i=n[1];Object(a.useEffect)((function(){i(e.inputValue)}),[e.inputValue]);var s=function(t){c.trim()&&("Enter"===t.key||t.currentTarget.closest("label"))&&e.getData(c)};return Object(o.jsxs)("div",{className:u.a.wrapper,children:[Object(o.jsx)("input",{className:u.a.input,id:"searchInput",onChange:function(e){return i(e.currentTarget.value)},onKeyPress:s,value:c}),Object(o.jsx)("label",{className:u.a.label,htmlFor:"searchInput",onClick:s,children:Object(o.jsx)("svg",{viewBox:"0 0 512 512",children:Object(o.jsx)("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})})})]})},l=n(4),h=n.n(l),p=n(16).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),j={getSearchCityCurrentWeatherData:function(e){return p.get("weather?q=".concat(e,"&lang=en&appid=").concat("7855be89de72b6ea0540164aea4c0922","&units=metric")).then((function(e){return e.data}))},getUserCityCurrentWeatherData:function(e,t){return p.get("weather?lat=".concat(e,"&lon=").concat(t,"&lang=en&appid=").concat("7855be89de72b6ea0540164aea4c0922","&units=metric")).then((function(e){return e.data}))}},b=n.p+"static/media/yasnoe-nebo.96a2e0a9.jpg",g=n.p+"static/media/night.c3407709.jpg",f=n.p+"static/media/oblachnoe.e942f2d3.jpg",m=n.p+"static/media/moon-clouds.4cb86d94.jpg",w=n.p+"static/media/rain.076149e9.jpg",O=n.p+"static/media/dozhd-noch.eac70128.jpg",y={day:[{img:b,isCloud:!1,isRain:!1},{img:w,isCloud:!1,isRain:!0},{img:w,isCloud:!0,isRain:!0},{img:f,isCloud:!0,isRain:!1}],night:[{img:g,isCloud:!1,isRain:!1},{img:O,isCloud:!1,isRain:!0},{img:O,isCloud:!0,isRain:!0},{img:m,isCloud:!0,isRain:!1}]},x=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],C=["january","february","march","april","may","june","july","august","september","october","november","december"],_=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),c=e.getDay();return"".concat(x[c],", ").concat(a," ").concat(C[n]," ").concat(t)},v=n(17),S=n.n(v),I=n.p+"static/media/error.4a75b478.jpg",N=function(e){return Object(o.jsxs)("div",{className:S.a.wrapper,children:[Object(o.jsx)("button",{onClick:e.closeNotification,children:"Close"}),Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:I,alt:"error"})}),Object(o.jsx)("h2",{children:e.error.message})]})},W=function(){var e,t="Minsk",n=Object(a.useState)(t),c=Object(r.a)(n,2),i=c[0],s=c[1],u=Object(a.useState)({cityInfo:null,weather:null,date:null,bgImg:null}),l=Object(r.a)(u,2),p=l[0],b=l[1],g=Object(a.useState)(!1),f=Object(r.a)(g,2),m=f[0],w=f[1],O=Object(a.useState)({message:null,status:!1}),x=Object(r.a)(O,2),C=x[0],v=x[1];Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,a=t.longitude;return n&&a?I(n,a):S(i)}))}),[]),Object(a.useEffect)((function(){return S(i)}),[i]);var S=function(e){return j.getSearchCityCurrentWeatherData(e).then((function(e){W(e),w(!0)})).catch((function(e){v({message:"This city wasn't be found",status:!0})}))},I=function(e,t){return j.getUserCityCurrentWeatherData(e,t).then((function(e){W(e),w(!0)})).catch((function(e){v({message:"This city wasn't be found",status:!0})}))},W=function(e){var t=function(e){var t=e.includes("cloud"),n=e.includes("rain"),a=(new Date).getHours();return y[a>18||a<6?"night":"day"].find((function(e){return e.isCloud===t&&e.isRain===n})).img}(e.weather[0].description),n={cityInfo:e.sys,weather:{temperature:e.main,additional:e.weather[0],wind:e.wind},date:_(),bgImg:t};return s(e.name),b(n),!0};return Object(o.jsxs)("div",{className:h.a.wrapper,style:{backgroundImage:"url(".concat(p.bgImg,")")},children:[m&&Object(o.jsxs)("div",{className:h.a.container,children:[Object(o.jsxs)("div",{className:h.a.content,children:[Object(o.jsxs)("h1",{children:[i,", ",null===(e=p.cityInfo)||void 0===e?void 0:e.country]}),Object(o.jsx)("h2",{children:p.date}),Object(o.jsx)("i",{className:"weather-icon owf owf-".concat(p.weather.additional.id," ").concat(h.a.owf)}),Object(o.jsx)("p",{children:p.weather.additional.description}),Object(o.jsxs)("p",{children:[Math.round(p.weather.temperature.temp)," \xb0C"]}),Object(o.jsxs)("p",{children:["Humidity: ",p.weather.temperature.humidity," %"]}),Object(o.jsxs)("p",{children:["Wind: ",p.weather.wind.speed," km/h"]})]}),Object(o.jsx)(d,{inputValue:i,getData:function(e){return s(e)}})]}),C.status&&Object(o.jsx)(N,{error:C,closeNotification:function(){return s(t),v({message:null,status:!1})}})]})},D=function(){return Object(o.jsx)(W,{})};i.a.render(Object(o.jsx)(D,{}),document.getElementById("root"))},5:function(e,t,n){e.exports={wrapper:"SearchInput_wrapper__2T2Vs",input:"SearchInput_input__1MnhW",label:"SearchInput_label__1YCt9"}}},[[44,1,2]]]);
//# sourceMappingURL=main.bee9508b.chunk.js.map