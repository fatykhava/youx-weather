(this["webpackJsonpyoux-weather"]=this["webpackJsonpyoux-weather"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},4:function(e,t,n){e.exports={wrapper:"Weather_wrapper__1tWy-",container:"Weather_container__3bEbM",content:"Weather_content__1qI-P",owf:"Weather_owf__1-Y4n"}},43:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(15),c=n.n(i),r=(n(21),n(22),n(23),n(3)),u=n(5),o=n.n(u),s=n(0),d=function(e){var t=Object(a.useState)(e.inputValue),n=Object(r.a)(t,2),i=n[0],c=n[1];Object(a.useEffect)((function(){c(e.inputValue)}),[e.inputValue]);var u=function(){i.trim()&&e.getData(i)};return Object(s.jsxs)("div",{className:o.a.wrapper,children:[Object(s.jsx)("input",{className:o.a.input,id:"searchInput",onChange:function(e){return c(e.currentTarget.value)},onBlur:u,value:i}),Object(s.jsx)("label",{className:o.a.label,htmlFor:"searchInput",onClick:u,children:Object(s.jsx)("svg",{viewBox:"0 0 512 512",children:Object(s.jsx)("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})})})]})},l=n(4),h=n.n(l),p=n(16).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),b={getSearchCityCurrentWeatherData:function(e){return p.get("weather?q=".concat(e,"&lang=en&appid=7855be89de72b6ea0540164aea4c0922&units=metric")).then((function(e){return e.data}))},getUserCityCurrentWeatherData:function(e,t){return p.get("weather?lat=".concat(e,"&lon=").concat(t,"&lang=en&appid=7855be89de72b6ea0540164aea4c0922&units=metric")).then((function(e){return e.data}))}},j=n.p+"static/media/yasnoe-nebo.9561ba09.jpg",f=n.p+"static/media/night.c3407709.jpg",g=n.p+"static/media/oblachnoe.5bf735ef.jpg",m=n.p+"static/media/moon-clouds.4903b037.jpg",w=n.p+"static/media/rain.66d4dcc7.jpg",y=n.p+"static/media/dozhd-noch.5e919563.jpg",O={day:[{img:j,isCloud:!1,isRain:!1},{img:w,isCloud:!1,isRain:!0},{img:w,isCloud:!0,isRain:!0},{img:g,isCloud:!0,isRain:!1}],night:[{img:f,isCloud:!1,isRain:!1},{img:y,isCloud:!1,isRain:!0},{img:y,isCloud:!0,isRain:!0},{img:m,isCloud:!0,isRain:!1}]},C=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],x=["january","february","march","april","may","june","july","august","september","october","november","december"],v=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=e.getDay();return"".concat(C[i],", ").concat(a," ").concat(x[n]," ").concat(t)},_=function(e){var t,n=Object(a.useState)("Minsk"),i=Object(r.a)(n,2),c=i[0],u=i[1],o=Object(a.useState)({cityInfo:null,weather:null,date:null,bgImg:null}),l=Object(r.a)(o,2),p=l[0],j=l[1],f=Object(a.useState)(!1),g=Object(r.a)(f,2),m=g[0],w=g[1];Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,a=t.longitude;return n&&a?C(n,a):y(c)}))}),[]),Object(a.useEffect)((function(){return y(c)}),[c]);var y=function(e){return b.getSearchCityCurrentWeatherData(e).then((function(e){x(e),w(!0)})).catch((function(e){alert("This city wasn't be found")}))},C=function(e,t){return b.getUserCityCurrentWeatherData(e,t).then((function(e){x(e),w(!0)})).catch((function(e){alert("This city wasn't be found")}))},x=function(e){var t=function(e){var t=e.includes("cloud"),n=e.includes("rain"),a=(new Date).getHours();return O[a>18||a<6?"night":"day"].find((function(e){return e.isCloud===t&&e.isRain===n})).img}(e.weather[0].description),n={cityInfo:e.sys,weather:{temperature:e.main,additional:e.weather[0],wind:e.wind},date:v(),bgImg:t};return u(e.name),j(n),!0};return Object(s.jsx)("div",{className:h.a.wrapper,style:{backgroundImage:"url(".concat(p.bgImg,")")},children:m&&Object(s.jsxs)("div",{className:h.a.container,children:[Object(s.jsxs)("div",{className:h.a.content,children:[Object(s.jsxs)("h1",{children:[c,", ",null===(t=p.cityInfo)||void 0===t?void 0:t.country]}),Object(s.jsx)("h2",{children:p.date}),Object(s.jsx)("i",{className:"weather-icon owf owf-".concat(p.weather.additional.id," ").concat(h.a.owf)}),Object(s.jsx)("p",{children:p.weather.additional.description}),Object(s.jsxs)("p",{children:[Math.round(p.weather.temperature.temp)," \xb0C"]}),Object(s.jsxs)("p",{children:["Humidity: ",p.weather.temperature.humidity," %"]}),Object(s.jsxs)("p",{children:["Wind: ",p.weather.wind.speed," km/h"]})]}),Object(s.jsx)(d,{inputValue:c,getData:function(e){u(e)}})]})})},I=function(){return Object(s.jsx)(_,{})};c.a.render(Object(s.jsx)(I,{}),document.getElementById("root"))},5:function(e,t,n){e.exports={wrapper:"SearchInput_wrapper__2T2Vs",input:"SearchInput_input__1MnhW",label:"SearchInput_label__1YCt9"}}},[[43,1,2]]]);
//# sourceMappingURL=main.199b5c46.chunk.js.map