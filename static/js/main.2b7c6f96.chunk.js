(this["webpackJsonpyoux-weather"]=this["webpackJsonpyoux-weather"]||[]).push([[0],{27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},4:function(t,e,n){t.exports={wrapper:"Weather_wrapper__1tWy-",container:"Weather_container__3bEbM",content:"Weather_content__1qI-P",owf:"Weather_owf__1-Y4n"}},53:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(5),r=n.n(i),c=(n(27),n(28),n(29),n(22)),u=n(7),o=n.n(u),s=n(1),d=function(t){var e=Object(a.useState)(t.inputValue),n=Object(c.a)(e,2),i=n[0],r=n[1];Object(a.useEffect)((function(){r(t.inputValue)}),[t.inputValue]);return Object(s.jsxs)("div",{className:o.a.wrapper,children:[Object(s.jsx)("input",{className:o.a.input,id:"searchInput",onChange:function(t){return r(t.currentTarget.value)},onBlur:function(){i.trim()&&t.getData(i)},value:i}),Object(s.jsx)("label",{className:o.a.label,htmlFor:"searchInput",children:Object(s.jsx)("svg",{viewBox:"0 0 512 512",children:Object(s.jsx)("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})})})]})},l=n(6),p=n(3),h=n(20).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),f={getSearchCityCurrentWeatherData:function(t){return h.get("weather?q=".concat(t,"&lang=en&appid=7855be89de72b6ea0540164aea4c0922&units=metric")).then((function(t){return t.data}))},getUserCityCurrentWeatherData:function(t,e){return h.get("weather?lat=".concat(t,"&lon=").concat(e,"&lang=en&appid=7855be89de72b6ea0540164aea4c0922&units=metric")).then((function(t){return t.data}))}},b=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=["january","february","march","april","may","june","july","august","september","october","november","december"],j=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),a=t.getDate(),i=t.getDay();return"".concat(b[i],", ").concat(a," ").concat(g[n]," ").concat(e)},m=n.p+"static/media/yasnoe-nebo.9561ba09.jpg",y=n.p+"static/media/night.c3407709.jpg",w=n.p+"static/media/oblachnoe.5bf735ef.jpg",O=n.p+"static/media/moon-clouds.4903b037.jpg",I=n.p+"static/media/rain.66d4dcc7.jpg",C=n.p+"static/media/dozhd-noch.5e919563.jpg",v={day:[{img:m,isCloud:!1,isRain:!1},{img:I,isCloud:!1,isRain:!0},{img:I,isCloud:!0,isRain:!0},{img:w,isCloud:!0,isRain:!1}],night:[{img:y,isCloud:!1,isRain:!1},{img:C,isCloud:!1,isRain:!0},{img:C,isCloud:!0,isRain:!0},{img:O,isCloud:!0,isRain:!1}]},x=function(t){var e=t.includes("cloud"),n=t.includes("rain"),a=(new Date).getHours();return v[a>18||a<6?"night":"day"].find((function(t){return t.isCloud===e&&t.isRain===n})).img},_="SET-CITY",W="CHANGE-BG",D="INIT-APP",S=function(){return{type:D}},R=function(t,e,n){return{type:_,city:t,cityInfo:e,weatherInfo:n}},N=function(t){return{type:W,image:t}},M={city:null,cityInfo:null,weather:null,date:null,bgImg:null,isInit:!1},T=function(t){return function(e){return f.getSearchCityCurrentWeatherData(t).then((function(t){var n={temperature:t.main,additional:t.weather[0],wind:t.wind},a=x(t.weather[0].description);e(R(t.name,t.sys,n)),e(N(a))})).catch((function(t){console.log(t)}))}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case D:return Object(p.a)(Object(p.a)({},t),{},{date:j(),isInit:!0});case _:return Object(p.a)(Object(p.a)({},t),{},{city:e.city,cityInfo:e.cityInfo,weather:e.weatherInfo});case W:return Object(p.a)(Object(p.a)({},t),{},{bgImg:e.image});default:return t}},k=function(t){return t.app.city},z=function(t){return t.app.isInit},V=function(t){return t.app.cityInfo},A=function(t){return t.app.weather},B=function(t){return t.app.date},H=function(t){return t.app.bgImg},P=n(4),Y=n.n(P),F=Object(l.b)((function(t){return{city:k(t),cityInfo:V(t),weather:A(t),date:B(t),isInit:z(t),bgImg:H(t)}}),{initializeApp:function(){return function(t){navigator.geolocation.getCurrentPosition((function(e){var n=e.coords,a=n.latitude,i=n.longitude;if(a&&i)return f.getUserCityCurrentWeatherData(a,i).then((function(e){var n={temperature:e.main,additional:e.weather[0],wind:e.wind},a=x(e.weather[0].description);t(R(e.name,e.sys,n)),t(N(a)),t(S())})).catch((function(t){console.log(t)}));t(T("Minsk")),t(S())}))}},getSearchCityCurrentWeatherData:T})((function(t){var e;return Object(a.useEffect)((function(){t.initializeApp()}),[]),Object(s.jsx)("div",{className:Y.a.wrapper,style:{backgroundImage:"url(".concat(t.bgImg,")")},children:t.isInit&&Object(s.jsxs)("div",{className:Y.a.container,children:[Object(s.jsxs)("div",{className:Y.a.content,children:[Object(s.jsxs)("h1",{children:[t.city,", ",null===(e=t.cityInfo)||void 0===e?void 0:e.country]}),Object(s.jsx)("h2",{children:t.date}),Object(s.jsx)("i",{className:"weather-icon owf owf-".concat(t.weather.additional.id," ").concat(Y.a.owf)}),Object(s.jsx)("p",{children:t.weather.additional.description}),Object(s.jsxs)("p",{children:[Math.round(t.weather.temperature.temp)," \xb0C"]}),Object(s.jsxs)("p",{children:["Humidity: ",t.weather.temperature.humidity," %"]}),Object(s.jsxs)("p",{children:["Wind: ",t.weather.wind.speed," km/h"]})]}),Object(s.jsx)(d,{inputValue:t.city,getData:t.getSearchCityCurrentWeatherData})]})})})),U=function(){return Object(s.jsx)(F,{})},q=n(8),G=n(21),J=Object(q.b)({app:E}),L=Object(q.c)(J,Object(q.a)(G.a));r.a.render(Object(s.jsx)(l.a,{store:L,children:Object(s.jsx)(U,{})}),document.getElementById("root"))},7:function(t,e,n){t.exports={wrapper:"SearchInput_wrapper__2T2Vs",input:"SearchInput_input__1MnhW",label:"SearchInput_label__1YCt9"}}},[[53,1,2]]]);
//# sourceMappingURL=main.2b7c6f96.chunk.js.map