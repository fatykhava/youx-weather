{"version":3,"sources":["components/common/Notification/Notification.module.scss","components/pages/Weather/Weather.module.scss","components/common/SearchInput/SearchInput.jsx","api/openWeatherMapAPI.js","assets/img/yasnoe-nebo.jpg","assets/img/night.jpg","assets/img/oblachnoe.jpg","assets/img/moon-clouds.jpg","assets/img/rain.jpg","assets/img/dozhd-noch.jpg","utils/background.js","utils/date.js","assets/img/error.jpg","components/common/Notification/Notification.jsx","components/pages/Weather/Weather.jsx","App.js","index.js","components/common/SearchInput/SearchInput.module.scss"],"names":["module","exports","SearchInput","props","useState","inputValue","searchValue","setSearchValue","useEffect","searchData","e","trim","key","currentTarget","closest","getData","className","style","wrapper","input","id","onChange","value","onKeyPress","label","htmlFor","onClick","viewBox","fill","d","instance","axios","baseURL","process","openWeatherMapAPI","getSearchCityCurrentWeatherData","city","get","then","response","data","getUserCityCurrentWeatherData","lat","lon","backgroundImages","day","img","isCloud","isRain","rainDay","cloudDay","night","rainNight","cloudNight","WEEK_DAIS","MONTHS","getDate","today","Date","year","getFullYear","month","getMonth","dayOfTheWeek","getDay","Notification","closeNotification","src","errorPic","alt","error","message","Weather","DEFAULT_CITY","setCity","cityInfo","weather","date","bgImg","weatherInfo","setWeatherInfo","isInit","setIsInit","status","setError","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","getWeatherDataByCoordinate","getWeatherDataByCity","processWeatherData","catch","image","description","includes","hour","getHours","find","selectImg","updatedWeatherInfo","sys","temperature","main","additional","wind","name","backgroundImage","container","content","country","owf","Math","round","temp","humidity","speed","cityValue","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bee9508b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Notification_wrapper__36_fH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Weather_wrapper__2SPZV\",\"container\":\"Weather_container__1SFY_\",\"content\":\"Weather_content__2MV2n\",\"owf\":\"Weather_owf__10Zch\"};","import React, { useEffect, useState } from 'react';\r\nimport style from './SearchInput.module.scss'\r\n\r\nconst SearchInput = (props) => {\r\n  let [searchValue, setSearchValue] = useState(props.inputValue);\r\n\r\n  useEffect(() => {\r\n    setSearchValue(props.inputValue);\r\n  }, [props.inputValue])\r\n\r\n  const searchData = (e) => {\r\n    if (!searchValue.trim()) return;\r\n\r\n    if (e.key === 'Enter' || e.currentTarget.closest('label')) {\r\n      props.getData(searchValue);\r\n    }\r\n  }\r\n\r\n  const changeSearchValue = (e) => setSearchValue(e.currentTarget.value);\r\n\r\n  return (\r\n    <div className={style.wrapper}>\r\n      <input className={style.input} id=\"searchInput\" onChange={changeSearchValue} onKeyPress={searchData} value={searchValue} />\r\n      <label className={style.label} htmlFor=\"searchInput\" onClick={searchData}>\r\n        <svg viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"></path></svg>\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchInput;\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_OPEN_WEATHER_MAP_API_URL,\r\n});\r\n\r\nconst openWeatherMapAPI = {\r\n  getSearchCityCurrentWeatherData(city) {\r\n    return instance.get(`weather?q=${city}&lang=en&appid=${process.env.REACT_APP_OPEN_WEATHER_MAP_API_ID}&units=metric`).then(response => response.data);\r\n  },\r\n  getUserCityCurrentWeatherData(lat, lon) {\r\n    return instance.get(`weather?lat=${lat}&lon=${lon}&lang=en&appid=${process.env.REACT_APP_OPEN_WEATHER_MAP_API_ID}&units=metric`).then(response => response.data);\r\n  }\r\n};\r\n\r\nexport default openWeatherMapAPI;\r\n","export default __webpack_public_path__ + \"static/media/yasnoe-nebo.96a2e0a9.jpg\";","export default __webpack_public_path__ + \"static/media/night.c3407709.jpg\";","export default __webpack_public_path__ + \"static/media/oblachnoe.e942f2d3.jpg\";","export default __webpack_public_path__ + \"static/media/moon-clouds.4cb86d94.jpg\";","export default __webpack_public_path__ + \"static/media/rain.076149e9.jpg\";","export default __webpack_public_path__ + \"static/media/dozhd-noch.eac70128.jpg\";","import day from '../assets/img/yasnoe-nebo.jpg';\r\nimport night from '../assets/img/night.jpg';\r\nimport cloudDay from '../assets/img/oblachnoe.jpg';\r\nimport cloudNight from '../assets/img/moon-clouds.jpg';\r\nimport rainDay from '../assets/img/rain.jpg';\r\nimport rainNight from '../assets/img/dozhd-noch.jpg';\r\n\r\nconst backgroundImages = {\r\n  day: [\r\n    {\r\n      img: day,\r\n      isCloud: false,\r\n      isRain: false\r\n    },\r\n    {\r\n      img: rainDay,\r\n      isCloud: false,\r\n      isRain: true\r\n    },\r\n    {\r\n      img: rainDay,\r\n      isCloud: true,\r\n      isRain: true\r\n    },\r\n    {\r\n      img: cloudDay,\r\n      isCloud: true,\r\n      isRain: false\r\n    }\r\n  ],\r\n  night: [\r\n    {\r\n      img: night,\r\n      isCloud: false,\r\n      isRain: false\r\n    },\r\n    {\r\n      img: rainNight,\r\n      isCloud: false,\r\n      isRain: true\r\n    },\r\n    {\r\n      img: rainNight,\r\n      isCloud: true,\r\n      isRain: true\r\n    },\r\n    {\r\n      img: cloudNight,\r\n      isCloud: true,\r\n      isRain: false\r\n    }\r\n  ]\r\n};\r\n\r\nexport const selectImg = (description) => {\r\n const isCloud = description.includes('cloud');\r\n const isRain = description.includes('rain');\r\n const time = new Date();\r\n const hour = time.getHours();\r\n const partOfDay = (hour > 18 || hour < 6) ? 'night' : 'day';\r\n\r\n return backgroundImages[partOfDay].find(img => (img.isCloud === isCloud && img.isRain === isRain)).img;\r\n}\r\n\r\nexport default backgroundImages;\r\n","const WEEK_DAIS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\nconst MONTHS = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\r\n\r\nconst getDate = () => {\r\n  const today = new Date();\r\n  const year = today.getFullYear();\r\n  const month = today.getMonth();\r\n  const day = today.getDate();\r\n  const dayOfTheWeek = today.getDay();\r\n\r\n  return `${WEEK_DAIS[dayOfTheWeek]}, ${day} ${MONTHS[month]} ${year}`;\r\n}\r\n\r\nexport default getDate;\r\n","export default __webpack_public_path__ + \"static/media/error.4a75b478.jpg\";","import React from 'react';\r\nimport style from './Notification.module.scss'\r\nimport errorPic from '../../../assets/img/error.jpg';\r\n\r\nconst Notification = (props) => {\r\n  return (\r\n    <div className={style.wrapper}>\r\n      <button onClick={props.closeNotification}>Close</button>\r\n      <div>\r\n        <img src={errorPic} alt='error'/>\r\n      </div>\r\n      <h2>{props.error.message}</h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Notification;\r\n","import React, {useEffect, useState} from 'react';\r\nimport SearchInput from '../../common/SearchInput/SearchInput';\r\nimport style from './Weather.module.scss';\r\nimport openWeatherMapAPI from \"../../../api/openWeatherMapAPI\";\r\nimport {selectImg} from \"../../../utils/background\";\r\nimport getDate from \"../../../utils/date\";\r\nimport Notification from \"../../common/Notification/Notification\";\r\n\r\nconst Weather = () => {\r\n  const DEFAULT_CITY = 'Minsk';\r\n  let [city, setCity] = useState(DEFAULT_CITY);\r\n  let [weatherInfo, setWeatherInfo] = useState({\r\n    cityInfo: null,\r\n    weather: null,\r\n    date: null,\r\n    bgImg: null,\r\n  });\r\n  let [isInit, setIsInit] = useState(false);\r\n  let [error, setError] = useState({\r\n    message: null,\r\n    status: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(position => {\r\n      const {latitude, longitude} = position.coords;\r\n      if (!!latitude && !!longitude) {\r\n        return getWeatherDataByCoordinate(latitude, longitude);\r\n      } else {\r\n        return getWeatherDataByCity(city);\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    return getWeatherDataByCity(city);\r\n  }, [city])\r\n\r\n  const getWeatherDataByCity = (city) => {\r\n    return openWeatherMapAPI.getSearchCityCurrentWeatherData(city)\r\n      .then(data => {\r\n        processWeatherData(data);\r\n        setIsInit(true);\r\n      }).catch(error => {\r\n        setError({\r\n          message: 'This city wasn\\'t be found',\r\n          status: true,\r\n        })\r\n      });\r\n  }\r\n\r\n  const getWeatherDataByCoordinate = (latitude, longitude) => {\r\n    return openWeatherMapAPI.getUserCityCurrentWeatherData(latitude, longitude)\r\n      .then(data => {\r\n        processWeatherData(data);\r\n        setIsInit(true);\r\n      }).catch(error => {\r\n        setError({\r\n          message: 'This city wasn\\'t be found',\r\n          status: true,\r\n        })\r\n      });\r\n  }\r\n\r\n  const processWeatherData = (data) => {\r\n    const image = selectImg(data.weather[0].description);\r\n    const updatedWeatherInfo = {\r\n      cityInfo: data.sys,\r\n      weather: {\r\n        temperature: data.main,\r\n        additional: data.weather[0],\r\n        wind: data.wind\r\n      },\r\n      date: getDate(),\r\n      bgImg: image,\r\n    };\r\n\r\n    setCity(data.name);\r\n    setWeatherInfo(updatedWeatherInfo);\r\n    return true;\r\n  }\r\n\r\n  const setCityValue = (cityValue) => {\r\n    return setCity(cityValue);\r\n  }\r\n\r\n  const closeNotification = () => {\r\n    setCity(DEFAULT_CITY);\r\n    return setError({\r\n      message: null,\r\n      status: false,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={style.wrapper} style={{backgroundImage: `url(${weatherInfo.bgImg})`}}>\r\n      {\r\n        isInit &&\r\n        <div className={style.container}>\r\n          <div className={style.content}>\r\n            <h1>{city}, {weatherInfo.cityInfo?.country}</h1>\r\n            <h2>{weatherInfo.date}</h2>\r\n            <i className={`weather-icon owf owf-${weatherInfo.weather.additional.id} ${style.owf}`}></i>\r\n            <p>{weatherInfo.weather.additional.description}</p>\r\n            <p>{Math.round(weatherInfo.weather.temperature.temp)} °C</p>\r\n            <p>Humidity: {weatherInfo.weather.temperature.humidity} %</p>\r\n            <p>Wind: {weatherInfo.weather.wind.speed} km/h</p>\r\n          </div>\r\n          <SearchInput inputValue={city} getData={setCityValue}/>\r\n        </div>\r\n      }\r\n      {\r\n        error.status &&\r\n        <Notification error={error} closeNotification={closeNotification}/>\r\n      }\r\n    </div>);\r\n}\r\n\r\nexport default Weather;\r\n","import React from 'react';\nimport './App.css';\nimport Weather from './components/pages/Weather/Weather';\n\nconst App = () => {\n  return (\n    <Weather/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './assets/owfont/owfont-regular.css';\nimport App from './App';\n\nReactDOM.render(\n      <App/>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SearchInput_wrapper__2T2Vs\",\"input\":\"SearchInput_input__1MnhW\",\"label\":\"SearchInput_label__1YCt9\"};"],"sourceRoot":""}